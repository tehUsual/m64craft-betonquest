variables:
  s5:
    star_loc:             -365;112;-453;marocraft


events:
  ### STAR 5 - FALL ON TO THE CAGED ISLAND
  # Init
  init_s5:                "folder e_obj_add_s5_star"
  e_obj_add_s5_star:      "objective add o_s5_star"

  # Win
  win_s5:                 "folder e_notif_s5_win,core-sfx.e_got_star,deit_s5,if_firstwin_s5"
  e_notif_s5_win:         "notify &3Fall on to the caged island\n&2Cleared! io:title"

  # First win
  if_firstwin_s5:         "if !chk_s5_obtained firstwin_s5 else core-main.e_dummy"
  firstwin_s5:            "folder e_broad_s5_first,tag_add_s5_win,e_stop_music,exit_star"
  e_broad_s5_first:       "command broadcast &6%player% &2got a star: [WF] Fall on to the caged island"
  tag_add_s5_win:         "tag add s5"

  # Cleanup
  deit_s5:                "folder e_obj_del_s5_star"
  e_obj_del_s5_star:      "objective remove o_s5_star"


conditions:
  chk_s5_obtained:        "tag s5"


objectives:
  o_s5_star:              "action right any loc:$s5.star_loc$ events:win_s5"
