variables:
  s8:
    star_loc:             -392;78;15;marocraft
    star_loc_xyz:         -392 78 15
    log_loc_1_1:          -386;76;2;marocraft
    log_loc_1_2:          -386;75;2;marocraft

    log_loc_2_1:          -398;76;2;marocraft
    log_loc_2_2:          -398;75;2;marocraft

    log_loc_3_1:          -398;76;12;marocraft
    log_loc_3_2:          -398;75;12;marocraft

    log_loc_4_1:          -386;76;12;marocraft
    log_loc_4_2:          -386;75;12;marocraft


### STAR 8 - 4 SUSPICIOUS LOGS
events:
  # Init
  init_s8:                "folder e_obj_add_s8_log_1_1,e_obj_add_s8_log_2_1,e_obj_add_s8_log_3_1,e_obj_add_s8_log_4_1"
  e_obj_add_s8_log_1_1:   "objective add o_s8_jump_log_1_1"
  e_obj_add_s8_log_2_1:   "objective add o_s8_jump_log_2_1"
  e_obj_add_s8_log_3_1:   "objective add o_s8_jump_log_3_1"
  e_obj_add_s8_log_4_1:   "objective add o_s8_jump_log_4_1"

  # Log 1-1
  e_s8_log_1_1_remove:    "folder e_s8_del_log_1_1,core-sfx.e_block_break,e_obj_add_s8_log_1_2"
  e_s8_del_log_1_1:       "setblock AIR $s8.log_loc_1_1$"
  e_obj_add_s8_log_1_2:   "objective add o_s8_jump_log_1_2"
  # Log 1-2
  e_s8_log_1_2_remove:    "folder e_s8_del_log_1_2,core-sfx.e_block_break,core-sfx.e_coin,e_s8_restore_log_1,e_s8_tag_add_log_1,if_all_logs_s8"
  e_s8_del_log_1_2:       "setblock AIR $s8.log_loc_1_2$"
  e_s8_restore_log_1:     "folder e_s8_setblock_log_1_1,e_s8_setblock_log_1_2 delay:2"
  e_s8_setblock_log_1_1:  "setblock SPRUCE_LOG $s8.log_loc_1_1$"
  e_s8_setblock_log_1_2:  "setblock SPRUCE_LOG $s8.log_loc_1_2$"
  e_s8_tag_add_log_1:     "tag add s8_log_1"

  # Log 2-1
  e_s8_log_2_1_remove:    "folder e_s8_del_log_2_1,core-sfx.e_block_break,e_obj_add_s8_log_2_2"
  e_s8_del_log_2_1:       "setblock AIR $s8.log_loc_2_1$"
  e_obj_add_s8_log_2_2:   "objective add o_s8_jump_log_2_2"
  # Log 2-2
  e_s8_log_2_2_remove:    "folder e_s8_del_log_2_2,core-sfx.e_block_break,core-sfx.e_coin,e_s8_restore_log_2,e_s8_tag_add_log_2,if_all_logs_s8"
  e_s8_del_log_2_2:       "setblock AIR $s8.log_loc_2_2$"
  e_s8_restore_log_2:     "folder e_s8_setblock_log_2_1,e_s8_setblock_log_2_2 delay:2"
  e_s8_setblock_log_2_1:  "setblock SPRUCE_LOG $s8.log_loc_2_1$"
  e_s8_setblock_log_2_2:  "setblock SPRUCE_LOG $s8.log_loc_2_2$"
  e_s8_tag_add_log_2:     "tag add s8_log_2"

  # Log 3-1
  e_s8_log_3_1_remove:    "folder e_s8_del_log_3_1,core-sfx.e_block_break,e_obj_add_s8_log_3_2"
  e_s8_del_log_3_1:       "setblock AIR $s8.log_loc_3_1$"
  e_obj_add_s8_log_3_2:   "objective add o_s8_jump_log_3_2"
  # Log 3-2
  e_s8_log_3_2_remove:    "folder e_s8_del_log_3_2,core-sfx.e_block_break,core-sfx.e_coin,e_s8_restore_log_3,e_s8_tag_add_log_3,if_all_logs_s8"
  e_s8_del_log_3_2:       "setblock AIR $s8.log_loc_3_2$"
  e_s8_restore_log_3:     "folder e_s8_setblock_log_3_1,e_s8_setblock_log_3_2 delay:2"
  e_s8_setblock_log_3_1:  "setblock SPRUCE_LOG $s8.log_loc_3_1$"
  e_s8_setblock_log_3_2:  "setblock SPRUCE_LOG $s8.log_loc_3_2$"
  e_s8_tag_add_log_3:     "tag add s8_log_3"

  # Log 4-1
  e_s8_log_4_1_remove:    "folder e_s8_del_log_4_1,core-sfx.e_block_break,e_obj_add_s8_log_4_2"
  e_s8_del_log_4_1:       "setblock AIR $s8.log_loc_4_1$"
  e_obj_add_s8_log_4_2:   "objective add o_s8_jump_log_4_2"
  # Log 4-2
  e_s8_log_4_2_remove:    "folder e_s8_del_log_4_2,core-sfx.e_block_break,core-sfx.e_coin,e_s8_restore_log_4,e_s8_tag_add_log_4,if_all_logs_s8"
  e_s8_del_log_4_2:       "setblock AIR $s8.log_loc_4_2$"
  e_s8_restore_log_4:     "folder e_s8_setblock_log_4_1,e_s8_setblock_log_4_2 delay:2"
  e_s8_setblock_log_4_1:  "setblock SPRUCE_LOG $s8.log_loc_4_1$"
  e_s8_setblock_log_4_2:  "setblock SPRUCE_LOG $s8.log_loc_4_2$"
  e_s8_tag_add_log_4:     "tag add s8_log_4"

  # Check win
  if_all_logs_s8:         "if chk_s8_log_all e_s8_all_logs_gotten else core-main.e_dummy"
  e_s8_all_logs_gotten:   "folder e_s8_spawn_star"

  # Spawn star
  e_s8_spawn_star:        "folder e_s8_show_star,e_s8_summon_firework,core-sfx.e_star_spawn,e_s8_notif_spawn_star,e_obj_add_s8_star"
  e_s8_show_star:         "command togglefakeblock %player% bob_star_8 show"
  e_s8_summon_firework:   "command execute in minecraft:overworld run summon firework_rocket $s8.star_loc_xyz$ {LifeTime:10,Motion:[0d,1d,0d],shotAtAngle:1b,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Flight:20,Explosions:[{Type:1,Flicker:1b,Colors:[I;14602026]},{Colors:[I;11743532]},{Colors:[I;4312372]}]}}}}"
  e_s8_notif_spawn_star:  "notify &3A star has spawned! io:title"
  e_obj_add_s8_star:      "objective add o_s8_star"

  # Win
  win_s8:                 "folder e_notif_s8_win,core-sfx.e_got_star,deit_s8,if_firstwin_s8"
  e_notif_s8_win:         "notify &34 suspicious logs\n&2Cleared! io:title"

  # First win
  if_firstwin_s8:         "if !chk_s8_obtained firstwin_s8 else core-main.e_dummy"
  firstwin_s8:            "folder e_broad_s8_first,tag_add_s8_win,e_stop_music,exit_star"
  e_broad_s8_first:       "command broadcast &6%player% &2got a star: [BOB] 4 suspicious logs"
  tag_add_s8_win:         "tag add s8"

  # Cleanup
  deit_s8:                "folder e_obj_del_s8_star,e_obj_del_s8_all_logs,e_s8_restore_all_logs,e_s8_del_tags,e_s8_despawn_star"
  e_obj_del_s8_star:      "objective remove o_s8_star"

  e_obj_del_s8_all_logs:  "folder e_obj_del_s8_log11,e_obj_del_s8_log12,e_obj_del_s8_log21,e_obj_del_s8_log22,e_obj_del_s8_log31,e_obj_del_s8_log32,e_obj_del_s8_log41,e_obj_del_s8_log42"
  e_obj_del_s8_log11:     "objective remove o_s8_jump_log_1_1"
  e_obj_del_s8_log12:     "objective remove o_s8_jump_log_1_2"
  e_obj_del_s8_log21:     "objective remove o_s8_jump_log_2_1"
  e_obj_del_s8_log22:     "objective remove o_s8_jump_log_2_2"
  e_obj_del_s8_log31:     "objective remove o_s8_jump_log_3_1"
  e_obj_del_s8_log32:     "objective remove o_s8_jump_log_3_2"
  e_obj_del_s8_log41:     "objective remove o_s8_jump_log_4_1"
  e_obj_del_s8_log42:     "objective remove o_s8_jump_log_2_2"
  e_s8_restore_all_logs:  "folder e_s8_restore_log_1,e_s8_restore_log_2,e_s8_restore_log_3,e_s8_restore_log_4"
  e_s8_del_tags:          "run ^tag delete s8_log_1 ^tag delete s8_log_2 ^tag delete s8_log_3 ^tag delete s8_log_4"

  e_s8_despawn_star:      "folder e_s8_hide_star"
  e_s8_hide_star:         "command togglefakeblock %player% bob_star_8 hide"


conditions:
  chk_s8_obtained:        "tag s8"

  chk_s8_ontop_log_1:     "region bob_s8_log_1"
  chk_s8_log_1_1:         "testforblock $s8.log_loc_1_1$ SPRUCE_LOG"
  chk_s8_log_1_2:         "testforblock $s8.log_loc_1_2$ SPRUCE_LOG"
  chk_s8_ontop_log_2:     "region bob_s8_log_2"
  chk_s8_log_2_1:         "testforblock $s8.log_loc_2_1$ SPRUCE_LOG"
  chk_s8_log_2_2:         "testforblock $s8.log_loc_2_2$ SPRUCE_LOG"
  chk_s8_ontop_log_3:     "region bob_s8_log_3"
  chk_s8_log_3_1:         "testforblock $s8.log_loc_3_1$ SPRUCE_LOG"
  chk_s8_log_3_2:         "testforblock $s8.log_loc_3_2$ SPRUCE_LOG"
  chk_s8_ontop_log_4:     "region bob_s8_log_4"
  chk_s8_log_4_1:         "testforblock $s8.log_loc_4_1$ SPRUCE_LOG"
  chk_s8_log_4_2:         "testforblock $s8.log_loc_4_2$ SPRUCE_LOG"

  chk_s8_log_1:           "tag s8_log_1"
  chk_s8_log_2:           "tag s8_log_2"
  chk_s8_log_3:           "tag s8_log_3"
  chk_s8_log_4:           "tag s8_log_4"
  chk_s8_log_all:         "and chk_s8_log_1,chk_s8_log_2,chk_s8_log_3,chk_s8_log_4"


objectives:
  o_s8_star:              "action right any loc:$s8.star_loc$ events:win_s8"

  o_s8_jump_log_1_1:      "jump 1 conditions:chk_s8_ontop_log_1,chk_s8_log_1_1 events:e_s8_log_1_1_remove"
  o_s8_jump_log_1_2:      "jump 1 conditions:chk_s8_ontop_log_1,chk_s8_log_1_2,!chk_s8_log_1_1 events:e_s8_log_1_2_remove"

  o_s8_jump_log_2_1:      "jump 1 conditions:chk_s8_ontop_log_2,chk_s8_log_2_1 events:e_s8_log_2_1_remove"
  o_s8_jump_log_2_2:      "jump 1 conditions:chk_s8_ontop_log_2,chk_s8_log_2_2,!chk_s8_log_2_1 events:e_s8_log_2_2_remove"

  o_s8_jump_log_3_1:      "jump 1 conditions:chk_s8_ontop_log_3,chk_s8_log_3_1 events:e_s8_log_3_1_remove"
  o_s8_jump_log_3_2:      "jump 1 conditions:chk_s8_ontop_log_3,chk_s8_log_3_2,!chk_s8_log_3_1 events:e_s8_log_3_2_remove"

  o_s8_jump_log_4_1:      "jump 1 conditions:chk_s8_ontop_log_4,chk_s8_log_4_1 events:e_s8_log_4_1_remove"
  o_s8_jump_log_4_2:      "jump 1 conditions:chk_s8_ontop_log_4,chk_s8_log_4_2,!chk_s8_log_4_1 events:e_s8_log_4_2_remove"
