variables:
  c5:
    region:               bob_cannon_5


events:
  ### CANNON - 5 - IN FRONT OF BARS
  reset_c5:               "folder deit_c5,init_c5"
  # Init
  init_c5:                "folder e_obj_add_c5_enter"
  e_obj_add_c5_enter:     "objective add o_cannon_enter_5"
  # Enter
  e_c5_enter:             "folder e_sfx_c_ready,e_obj_add_c5_stay"
  e_obj_add_c5_stay:      "objective add o_cannon_wait_5"
  # Waited
  e_c5_waited:            "if chk_in_cannon_5 e_c5_load else e_obj_add_c5_enter"
  # Load
  e_c5_load:              "folder e_give_cannonpearl,e_obj_add_c5_shoot,e_obj_add_c5_exit"
  e_obj_add_c5_shoot:     "objective add o_cannon_shoot_5"
  e_obj_add_c5_exit:      "objective add o_cannon_exit_5"
  # Shoot
  e_c5_shoot:             "folder e_sfx_c_shoot,e_ptc_explosion"
  # Exit
  e_c5_exit:              "folder reset_c5"
  # Cleanup
  deit_c5:                "folder e_take_cannonpearl,e_obj_del_c5_enter,e_obj_del_c5_wait,e_obj_del_c5_shoot,e_obj_del_c5_exit"
  e_obj_del_c5_enter:     "objective remove o_cannon_enter_5"
  e_obj_del_c5_wait:      "objective remove o_cannon_wait_5"
  e_obj_del_c5_shoot:     "objective remove o_cannon_shoot_5"
  e_obj_del_c5_exit:      "objective remove o_cannon_exit_5"


conditions:
  chk_in_cannon_5:        "region $c5.region$"


objectives:
  o_cannon_enter_5:       "region $c5.region$ enter events:e_c5_enter"
  o_cannon_wait_5:        "delay 3 seconds interval:1 events:e_c5_waited"
  o_cannon_shoot_5:       "action right any conditions:chk_in_cannon_5,chk_holding_pearl events:e_c5_shoot"
  o_cannon_exit_5:        "region $c5.region$ exit events:e_c5_exit"
