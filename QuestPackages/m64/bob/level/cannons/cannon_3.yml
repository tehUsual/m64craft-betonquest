variables:
  c3:
    region:               bob_cannon_3


events:
  ### CANNON - 3 - MOUNTAIN LEDGE
  reset_c3:               "folder deit_c3,init_c3"
  # Init
  init_c3:                "folder e_obj_add_c3_enter"
  e_obj_add_c3_enter:     "objective add o_cannon_enter_3"
  # Enter
  e_c3_enter:             "folder e_sfx_c_ready,e_obj_add_c3_stay"
  e_obj_add_c3_stay:      "objective add o_cannon_wait_3"
  # Waited
  e_c3_waited:            "if chk_in_cannon_3 e_c3_load else e_obj_add_c3_enter"
  # Load
  e_c3_load:              "folder e_give_cannonpearl,e_obj_add_c3_shoot,e_obj_add_c3_exit"
  e_obj_add_c3_shoot:     "objective add o_cannon_shoot_3"
  e_obj_add_c3_exit:      "objective add o_cannon_exit_3"
  # Shoot
  e_c3_shoot:             "folder e_sfx_c_shoot,e_ptc_explosion"
  # Exit
  e_c3_exit:              "folder reset_c3"
  # Cleanup
  deit_c3:                "folder e_take_cannonpearl,e_obj_del_c3_enter,e_obj_del_c3_wait,e_obj_del_c3_shoot,e_obj_del_c3_exit"
  e_obj_del_c3_enter:     "objective remove o_cannon_enter_3"
  e_obj_del_c3_wait:      "objective remove o_cannon_wait_3"
  e_obj_del_c3_shoot:     "objective remove o_cannon_shoot_3"
  e_obj_del_c3_exit:      "objective remove o_cannon_exit_3"


conditions:
  chk_in_cannon_3:        "region $c3.region$"


objectives:
  o_cannon_enter_3:       "region $c3.region$ enter events:e_c3_enter"
  o_cannon_wait_3:        "delay 3 seconds interval:1 events:e_c3_waited"
  o_cannon_shoot_3:       "action right any conditions:chk_in_cannon_3,chk_holding_pearl events:e_c3_shoot"
  o_cannon_exit_3:        "region $c3.region$ exit events:e_c3_exit"