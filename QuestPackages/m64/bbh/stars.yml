variables:
  s1:
    star_loc:             400;51;-453;marocraft
    star_loc_xyz:         400 51 -453
    boo_1_loc:            416;50;-435;marocraft
    boo_2_loc:            417;50;-457;marocraft
    boo_3_loc:            378;50;-468;marocraft
    boo_4_loc:            377;52;-460;marocraft
    boo_5_loc:            386;52;-467;marocraft
  s2:
    star_loc:             374;26;-457;marocraft
    star_loc_xyz:         374 26 -457
    boo_1_loc:            387;27;-447;marocraft
    boo_2_loc:            384;27;-449;marocraft
    boo_3_loc:            385;28;-450;marocraft
    boo_4_loc:            387;28;-451;marocraft
    boo_5_loc:            389;24;-451;marocraft
    boo_6_loc:            385;25;-452;marocraft
    boo_7_loc:            386;26;-454;marocraft
    boo_8_loc:            390;27;-454;marocraft
    boo_9_loc:            390;28;-456;marocraft
    boo_10_loc:           388;28;-458;marocraft
    boo_11_loc:           382;28;-457;marocraft
    boo_12_loc:           381;26;-457;marocraft
    boo_13_loc:           378;25;-453;marocraft
    boo_14_loc:           377;27;-462;marocraft
    boo_15_loc:           382;24;-463;marocraft
    boo_16_loc:           383;23;-459;marocraft
    boo_17_loc:           385;24;-459;marocraft
    boo_18_loc:           387;25;-460;marocraft
    boo_19_loc:           386;27;-463;marocraft
    boo_20_loc:           385;28;-468;marocraft
    boo_21_loc:           390;27;-466;marocraft
    boo_22_loc:           389;24;-465;marocraft
    boo_23_loc:           394;28;-463;marocraft
    boo_24_loc:           396;24;-462;marocraft
    boo_25_loc:           395;25;-457;marocraft
  s3:
    star_loc:             368;62;-438;marocraft
    tp_loc:               369.5;57;-456;marocraft;0;12
    book_1_loc:           369;57;-459;marocraft
    book_2_loc:           368;58;-459;marocraft
    book_3_loc:           370;59;-459;marocraft
    book_4_loc:           368;60;-459;marocraft
    book_5_loc:           370;61;-459;marocraft
    book_6_loc:           369;62;-459;marocraft
  s4:
    star_loc:             388;60;-443;marocraft
    star_loc_xyz:         388 60 -443
    rc1:                  375;48;-434;marocraft
    rc2:                  374;54;-450;marocraft
    rc3:                  384;54;-459;marocraft
    rc4:                  418;48;-436;marocraft
    rc5:                  417;57;-464;marocraft
    rc6:                  419;57;-472;marocraft
    rc7:                  395;57;-474;marocraft
    rc8:                  414;57;-437;marocraft
    rc9:                  421;48;-472;marocraft
    rc10:                 379;60;-439;marocraft
    rc11:                 417;65;-453;marocraft
    rc12:                 390;54;-462;marocraft
  s5:
    star_loc:             396;81;-440;marocraft
    star_loc_xyz:         396 81 -440
    eye1_loc:             397;70;-436;marocraft
    eye2_loc:             397;70;-435;marocraft
    eye3_loc:             398;68;-434;marocraft
    eye4_loc:             400;68;-435;marocraft
    eye5_loc:             400;68;-436;marocraft
    eye6_loc:             398;68;-437;marocraft
  s6:
    star_loc:             405;69;-463;marocraft
  s8:
    total_time:           50
    total_time_notif:     50
    delay_interval:       5
    start_loc:            389;45;-392;marocraft


### STAR 1 - GO ON A GHOST HUNT                 #
### STAR 2 - RIDE BIG BOO'S MERRY-GO-ROUND      #
### STAR 3 - SECRET OF THE HAUNTED BOOKS        #
### STAR 4 - SEEK THE 8 RED COINS               #
### STAR 5 - BIG BOO'S BALCONY                  #
### STAR 6 - EYE TO EYE IN THE SECRET ROOM      #
### STAR 7 -
### STAR 8 -
### STAR 9 - CAPTAIN TOAD 1
### STAR 10 - CAPTAIN TOAD 2
### STAR 11 - CAPTAIN TOAD 3

npcs:
  '180': "cpttoad_1"
  '181': "cpttoad_2"
  '182': "cpttoad_3"

conversations:
  cpttoad_1:
    quester: "Captain Toad #1"
    first: has_star,get_star

    NPC_options:
      has_star:
        conditions: "chk_s9_obtained"
        text: "Wow! I already gave you a star!"
        #exit
      get_star:
        conditions: "!chk_s9_obtained"
        text: "Ya-hoo! You found me!"
        event: win_s9

  cpttoad_2:
    quester: "Captain Toad #2"
    first: has_star,get_star

    NPC_options:
      has_star:
        conditions: "chk_s10_obtained"
        text: "Wow! I already gave you a star!"
        #exit
      get_star:
        conditions: "!chk_s10_obtained"
        text: "Ya-hoo! You found me!"
        event: win_s10

  cpttoad_3:
    quester: "Captain Toad #3"
    first: has_star,get_star

    NPC_options:
      has_star:
        conditions: "chk_s11_obtained"
        text: "Wow! I already gave you a star!"
        #exit
      get_star:
        conditions: "!chk_s11_obtained"
        text: "Ya-hoo! You found me!"
        event: win_s11


events:
  # Load stars
  init_stars:             "folder init_s1,init_s2,init_s3,init_s4,init_s5,init_s6,init_s8"
  reset_stars:            "folder cleanup_s1,cleanup_s2,cleanup_s3,cleanup_s4,cleanup_s5,cleanup_s6,cleanup_s8"
  delete_stars:           "folder e_del_star_tags,e_s4_del_tags,e_clear_star_counter"

  e_del_star_tags:        "folder e_del_star_tags_1,e_del_star_tags_2"
  e_del_star_tags_1:      "run ^tag delete s1 ^tag delete s2 ^tag delete s3 ^tag delete s4 ^tag delete s5 ^tag delete s6"
  e_del_star_tags_2:      "run ^tag delete s8 ^tag delete s9 ^tag delete s10 ^tag delete s11"
  e_clear_star_counter:   "point bbh_stars 0 action:set"


  exit_star:              "folder on_exit,m64-sfx.e_exit_course,e_add_star_counter delay:4"
  e_add_star_counter:     "point bbh_stars 1 action:add"


  ### STAR 1 - GO ON A GHOST HUNT
  # Init
  init_s1:                "folder e_s1_add_obj_boo"
  e_s1_add_obj_boo:       "folder e_s1_add_obj_b1,e_s1_add_obj_b2,e_s1_add_obj_b3,e_s1_add_obj_b4,e_s1_add_obj_b5"
  e_s1_add_obj_b1:        "objective add o_s1_boo_1"
  e_s1_add_obj_b2:        "objective add o_s1_boo_2"
  e_s1_add_obj_b3:        "objective add o_s1_boo_3"
  e_s1_add_obj_b4:        "objective add o_s1_boo_4"
  e_s1_add_obj_b5:        "objective add o_s1_boo_5"

  e_s1_sfx_boo_die:       "notify io:sound sound:entity.allay.death soundvolume:10"

  # Killed boo
  e_s1_killed_boo:        "folder e_s1_sfx_boo_die,e_s1_point_bk_add,if_killed_all_s1"
  e_s1_point_bk_add:      "point bbh_s1_bk 1 action:add"

  # If all killed
  if_killed_all_s1:       "if chk_s1_killed_all e_s1_all_killed else m64-main.e_dummy"
  e_s1_all_killed:        "folder e_s1_spawn_star,e_s1_summon_firework,m64-sfx.e_star_spawn,e_s1_notif_spawn_star,e_obj_add_s1_star,e_s1_gp_add_star,e_s1_tag_add_spawned"
  e_s1_spawn_star:        "setblock RAW_GOLD_BLOCK $s1.star_loc$"
  e_s1_summon_firework:   "command execute in minecraft:marocraft run summon firework_rocket $s1.star_loc_xyz$ {LifeTime:10,Motion:[0d,1d,0d],shotAtAngle:1b,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Flight:20,Explosions:[{Type:1,Flicker:1b,Colors:[I;14602026]},{Colors:[I;11743532]},{Colors:[I;4312372]}]}}}}"
  e_s1_notif_spawn_star:  "notify &3A star has spawned! io:title"
  e_obj_add_s1_star:      "objective add o_s1_star"
  e_s1_gp_add_star:       "globalpoint bbh_s1 1 action:add"
  e_s1_tag_add_spawned:   "tag add s1_spawned"

  # Win
  win_s1:                 "folder e_notif_s1_win,m64-sfx.e_got_star,cleanup_s1,if_firstwin_s1"
  e_notif_s1_win:         "notify &3Go on a ghost hunt\n&2Cleared! io:title"

  # First win
  if_firstwin_s1:         "if !chk_s1_obtained firstwin_s1 else m64-main.e_dummy"
  firstwin_s1:            "folder e_broad_s1_first,tag_add_s1_win,e_stop_music,exit_star"
  e_broad_s1_first:       "command broadcast &6%player% &2got a star: [BBH] Go on a ghost hunt"
  tag_add_s1_win:         "tag add s1"

  # Cleanup
  cleanup_s1:             "folder e_s1_del_obj_boo,e_obj_del_s1_star,e_s1_del_point_bk,if_s1_spawned,e_s1_tag_del_spawned"
  e_s1_del_obj_boo:       "folder e_s1_del_obj_b1,e_s1_del_obj_b2,e_s1_del_obj_b3,e_s1_del_obj_b4,e_s1_del_obj_b5"
  e_s1_del_obj_b1:        "objective remove o_s1_boo_1"
  e_s1_del_obj_b2:        "objective remove o_s1_boo_2"
  e_s1_del_obj_b3:        "objective remove o_s1_boo_3"
  e_s1_del_obj_b4:        "objective remove o_s1_boo_4"
  e_s1_del_obj_b5:        "objective remove o_s1_boo_5"
  
  e_obj_del_s1_star:      "objective remove o_s1_star"
  e_s1_del_point_bk:      "point bbh_s1_bk 0 action:set"

  if_s1_spawned:          "if chk_s1_spawned e_s1_del_spawned else m64-main.e_dummy"
  e_s1_del_spawned:       "folder e_s1_gp_sub_star,if_s1_despawn"
  e_s1_gp_sub_star:       "globalpoint bbh_s1 1 action:subtract"

  if_s1_despawn:          "if !chk_s1_spawn_count e_s1_delete_star else m64-main.e_dummy"
  e_s1_tag_del_spawned:   "tag delete s1_spawned"

  e_s1_delete_star:       "folder e_s1_despawn_star,e_s1_reset_star_count"
  e_s1_despawn_star:      "setblock AIR $s1.star_loc$"
  e_s1_reset_star_count:  "globalpoint bbh_s1 0 action:set"


  ### STAR 2 - RIDE BIG BOO'S MERRY-GO-ROUND
  # Init
  init_s2:                "folder e_s2_add_obj_boo_1,e_s2_add_obj_boo_2,e_s2_add_obj_boo_3,e_s2_add_obj_b25"
  e_s2_add_obj_boo_1:     "folder e_s2_add_obj_b1,e_s2_add_obj_b2,e_s2_add_obj_b3,e_s2_add_obj_b4,e_s2_add_obj_b5,e_s2_add_obj_b6,e_s2_add_obj_b7,e_s2_add_obj_b8"
  e_s2_add_obj_boo_2:     "folder e_s2_add_obj_b9,e_s2_add_obj_b10,e_s2_add_obj_b11,e_s2_add_obj_b12,e_s2_add_obj_b13,e_s2_add_obj_b14,e_s2_add_obj_b15,e_s2_add_obj_b16"
  e_s2_add_obj_boo_3:     "folder e_s2_add_obj_b17,e_s2_add_obj_b18,e_s2_add_obj_b19,e_s2_add_obj_b20,e_s2_add_obj_b21,e_s2_add_obj_b22,e_s2_add_obj_b23,e_s2_add_obj_b24"
  e_s2_add_obj_b1:        "objective add o_s2_boo_1"
  e_s2_add_obj_b2:        "objective add o_s2_boo_2"
  e_s2_add_obj_b3:        "objective add o_s2_boo_3"
  e_s2_add_obj_b4:        "objective add o_s2_boo_4"
  e_s2_add_obj_b5:        "objective add o_s2_boo_5"
  e_s2_add_obj_b6:        "objective add o_s2_boo_6"
  e_s2_add_obj_b7:        "objective add o_s2_boo_7"
  e_s2_add_obj_b8:        "objective add o_s2_boo_8"
  e_s2_add_obj_b9:        "objective add o_s2_boo_9"
  e_s2_add_obj_b10:       "objective add o_s2_boo_10"
  e_s2_add_obj_b11:       "objective add o_s2_boo_11"
  e_s2_add_obj_b12:       "objective add o_s2_boo_12"
  e_s2_add_obj_b13:       "objective add o_s2_boo_13"
  e_s2_add_obj_b14:       "objective add o_s2_boo_14"
  e_s2_add_obj_b15:       "objective add o_s2_boo_15"
  e_s2_add_obj_b16:       "objective add o_s2_boo_16"
  e_s2_add_obj_b17:       "objective add o_s2_boo_17"
  e_s2_add_obj_b18:       "objective add o_s2_boo_18"
  e_s2_add_obj_b19:       "objective add o_s2_boo_19"
  e_s2_add_obj_b20:       "objective add o_s2_boo_20"
  e_s2_add_obj_b21:       "objective add o_s2_boo_21"
  e_s2_add_obj_b22:       "objective add o_s2_boo_22"
  e_s2_add_obj_b23:       "objective add o_s2_boo_23"
  e_s2_add_obj_b24:       "objective add o_s2_boo_24"
  e_s2_add_obj_b25:       "objective add o_s2_boo_25"

  e_s2_sfx_boo_laugh:     "notify io:sound sound:entity.allay.ambient_with_item soundvolume:10"
  e_s2_sfx_boo_die:       "notify io:sound sound:entity.allay.death soundvolume:10"

  # Killed boo
  e_s2_killed_boo:        "folder e_s2_sfx_boo_die,e_s2_point_bk_add,e_s2_notify_bk,if_killed_all_s2"
  e_s2_point_bk_add:      "point bbh_s2_bk 1 action:add"
  e_s2_notify_bk:         "notify &3Red coin #1 found! %point.bbh_s2_bk.amount%/25"

  # If all killed
  if_killed_all_s2:       "if chk_s2_killed_all e_s2_all_killed else m64-main.e_dummy"
  e_s2_all_killed:        "folder e_s2_spawn_star,e_s2_summon_firework,m64-sfx.e_star_spawn,e_s2_notif_spawn_star,e_obj_add_s2_star,e_s2_gp_add_star,e_s2_tag_add_spawned"
  e_s2_spawn_star:        "setblock RAW_GOLD_BLOCK $s2.star_loc$"
  e_s2_summon_firework:   "command execute in minecraft:marocraft run summon firework_rocket $s2.star_loc_xyz$ {LifeTime:10,Motion:[0d,1d,0d],shotAtAngle:1b,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Flight:20,Explosions:[{Type:1,Flicker:1b,Colors:[I;14602026]},{Colors:[I;11743532]},{Colors:[I;4312372]}]}}}}"
  e_s2_notif_spawn_star:  "notify &3A star has spawned! io:title"
  e_obj_add_s2_star:      "objective add o_s2_star"
  e_s2_gp_add_star:       "globalpoint bbh_s2 1 action:add"
  e_s2_tag_add_spawned:   "tag add s2_spawned"

  # Win
  win_s2:                 "folder e_notif_s2_win,m64-sfx.e_got_star,cleanup_s2,if_firstwin_s2"
  e_notif_s2_win:         "notify &3Ride big boo's merry-go-round\n&2Cleared! io:title"

  # First win
  if_firstwin_s2:         "if !chk_s2_obtained firstwin_s2 else m64-main.e_dummy"
  firstwin_s2:            "folder e_broad_s2_first,tag_add_s2_win,e_stop_music,exit_star"
  e_broad_s2_first:       "command broadcast &6%player% &2got a star: [BBH] Ride big boo's merry-go-round"
  tag_add_s2_win:         "tag add s2"


  
  # Cleanup
  cleanup_s2:             "folder e_s2_del_obj_boo_x,e_obj_del_s2_star,e_s2_del_point_bk,if_s2_spawned,e_s2_tag_del_spawned"
  e_s2_del_obj_boo_x:     "folder e_s2_del_obj_boo_1,e_s2_del_obj_boo_2,e_s2_del_obj_boo_3,e_s2_del_obj_b25"
  e_s2_del_obj_boo_1:     "folder e_s2_del_obj_b1,e_s2_del_obj_b2,e_s2_del_obj_b3,e_s2_del_obj_b4,e_s2_del_obj_b5,e_s2_del_obj_b6,e_s2_del_obj_b7,e_s2_del_obj_b8"
  e_s2_del_obj_boo_2:     "folder e_s2_del_obj_b9,e_s2_del_obj_b10,e_s2_del_obj_b11,e_s2_del_obj_b12,e_s2_del_obj_b13,e_s2_del_obj_b14,e_s2_del_obj_b15,e_s2_del_obj_b16"
  e_s2_del_obj_boo_3:     "folder e_s2_del_obj_b17,e_s2_del_obj_b18,e_s2_del_obj_b19,e_s2_del_obj_b20,e_s2_del_obj_b21,e_s2_del_obj_b22,e_s2_del_obj_b23,e_s2_del_obj_b24"
  e_s2_del_obj_b1:        "objective remove o_s2_boo_1"
  e_s2_del_obj_b2:        "objective remove o_s2_boo_2"
  e_s2_del_obj_b3:        "objective remove o_s2_boo_3"
  e_s2_del_obj_b4:        "objective remove o_s2_boo_4"
  e_s2_del_obj_b5:        "objective remove o_s2_boo_5"
  e_s2_del_obj_b6:        "objective remove o_s2_boo_6"
  e_s2_del_obj_b7:        "objective remove o_s2_boo_7"
  e_s2_del_obj_b8:        "objective remove o_s2_boo_8"
  e_s2_del_obj_b9:        "objective remove o_s2_boo_9"
  e_s2_del_obj_b10:       "objective remove o_s2_boo_10"
  e_s2_del_obj_b11:       "objective remove o_s2_boo_11"
  e_s2_del_obj_b12:       "objective remove o_s2_boo_12"
  e_s2_del_obj_b13:       "objective remove o_s2_boo_13"
  e_s2_del_obj_b14:       "objective remove o_s2_boo_14"
  e_s2_del_obj_b15:       "objective remove o_s2_boo_15"
  e_s2_del_obj_b16:       "objective remove o_s2_boo_16"
  e_s2_del_obj_b17:       "objective remove o_s2_boo_17"
  e_s2_del_obj_b18:       "objective remove o_s2_boo_18"
  e_s2_del_obj_b19:       "objective remove o_s2_boo_19"
  e_s2_del_obj_b20:       "objective remove o_s2_boo_20"
  e_s2_del_obj_b21:       "objective remove o_s2_boo_21"
  e_s2_del_obj_b22:       "objective remove o_s2_boo_22"
  e_s2_del_obj_b23:       "objective remove o_s2_boo_23"
  e_s2_del_obj_b24:       "objective remove o_s2_boo_24"
  e_s2_del_obj_b25:       "objective remove o_s2_boo_25"
  e_obj_del_s2_star:      "objective remove o_s2_star"
  e_s2_del_point_bk:      "point bbh_s2_bk 0 action:set"

  if_s2_spawned:          "if chk_s2_spawned e_s2_del_spawned else m64-main.e_dummy"
  e_s2_del_spawned:       "folder e_s2_gp_sub_star,if_s2_despawn"
  e_s2_gp_sub_star:       "globalpoint bbh_s2 1 action:subtract"

  if_s2_despawn:          "if !chk_s2_spawn_count e_s2_delete_star else m64-main.e_dummy"
  e_s2_tag_del_spawned:   "tag delete s2_spawned"

  e_s2_delete_star:       "folder e_s2_despawn_star,e_s2_reset_star_count"
  e_s2_despawn_star:      "setblock AIR $s2.star_loc$"
  e_s2_reset_star_count:  "globalpoint bbh_s2 0 action:set"


  ### STAR 3 - SECRET OF THE HAUNTED BOOKS
  # Init
  init_s3:                "folder e_s3_setup_book_4"
  # 4,2,6,3,5,1


  e_obj_add_s3_c1:        "objective add o_s3_c1"
  e_obj_add_s3_c2:        "objective add o_s3_c2"
  e_obj_add_s3_c3:        "objective add o_s3_c3"
  e_obj_add_s3_c4:        "objective add o_s3_c4"
  e_obj_add_s3_c5:        "objective add o_s3_c5"
  e_obj_add_s3_c6:        "objective add o_s3_c6"

  e_obj_add_s3_w1:        "objective add o_s3_w1"
  e_obj_add_s3_w2:        "objective add o_s3_w2"
  e_obj_add_s3_w3:        "objective add o_s3_w3"
  e_obj_add_s3_w4:        "objective add o_s3_w4"
  e_obj_add_s3_w5:        "objective add o_s3_w5"
  e_obj_add_s3_w6:        "objective add o_s3_w6"

  # Setup 4
  e_s3_setup_book_4:      "folder e_obj_add_s3_c4,e_obj_add_s3_w1,e_obj_add_s3_w2,e_obj_add_s3_w3,e_obj_add_s3_w5,e_obj_add_s3_w6"
  # Setup 2
  e_s3_setup_book_2:      "folder e_obj_add_s3_c2,e_obj_add_s3_w1,e_obj_add_s3_w3,e_obj_add_s3_w4,e_obj_add_s3_w5,e_obj_add_s3_w6"
  # Setup 6
  e_s3_setup_book_6:      "folder e_obj_add_s3_c6,e_obj_add_s3_w1,e_obj_add_s3_w2,e_obj_add_s3_w3,e_obj_add_s3_w4,e_obj_add_s3_w5"
  # Setup 3
  e_s3_setup_book_3:      "folder e_obj_add_s3_c3,e_obj_add_s3_w1,e_obj_add_s3_w2,e_obj_add_s3_w4,e_obj_add_s3_w5,e_obj_add_s3_w6"
  # Setup 5
  e_s3_setup_book_5:      "folder e_obj_add_s3_c5,e_obj_add_s3_w1,e_obj_add_s3_w2,e_obj_add_s3_w3,e_obj_add_s3_w4,e_obj_add_s3_w6"
  # Setup 1
  e_s3_setup_book_1:      "folder e_obj_add_s3_c1,e_obj_add_s3_w2,e_obj_add_s3_w3,e_obj_add_s3_w4,e_obj_add_s3_w5,e_obj_add_s3_w6"

  # Wrong book
  e_s3_reset_books:       "folder e_obj_del_s3_bc,e_obj_del_s3_bw"
  e_s3_book_wrong:        "folder m64-sfx.e_incorrect,e_s3_reset_books,init_s3"

  # Correct 4
  e_s3_book_correct_4:    "folder m64-sfx.e_coin,e_s3_reset_books,e_s3_setup_book_2"
  # Correct 2
  e_s3_book_correct_2:    "folder m64-sfx.e_coin,e_s3_reset_books,e_s3_setup_book_6"
  # Correct 6
  e_s3_book_correct_6:    "folder m64-sfx.e_coin,e_s3_reset_books,e_s3_setup_book_3"
  # Correct 3
  e_s3_book_correct_3:    "folder m64-sfx.e_coin,e_s3_reset_books,e_s3_setup_book_5"
  # Correct 5
  e_s3_book_correct_5:    "folder m64-sfx.e_coin,e_s3_reset_books,e_s3_setup_book_1"
  # Correct 1
  e_s3_book_correct_1:    "folder m64-sfx.e_coin,e_s3_reset_books,e_s3_book_correct_all"

  # Correct all
  e_s3_book_correct_all:  "folder e_obj_add_s3_star,m64-sfx.e_correct,e_s3_tp_delay"
  e_s3_tp_delay:          "folder e_s3_tp_bookshelf delay:4"
  e_s3_tp_bookshelf:      "teleport $s3.tp_loc$"
  e_obj_add_s3_star:      "objective add o_s3_star"

  # Win
  win_s3:                 "folder e_notif_s3_win,m64-sfx.e_got_star,cleanup_s3,if_firstwin_s3"
  e_notif_s3_win:         "notify &3Secret of the haunted books\n&2Cleared! io:title"

  # First win
  if_firstwin_s3:         "if !chk_s3_obtained firstwin_s3 else m64-main.e_dummy"
  firstwin_s3:            "folder e_broad_s3_first,tag_add_s3_win,e_stop_music,exit_star"
  e_broad_s3_first:       "command broadcast &6%player% &2got a star: [BBH] Secret of the haunted books"
  tag_add_s3_win:         "tag add s3"


  # Cleanup
  cleanup_s3:             "folder e_obj_del_s3_bc,e_obj_del_s3_bw,e_obj_del_s3_star"
  e_obj_del_s3_bc:        "folder e_obj_del_s3_c1,e_obj_del_s3_c2,e_obj_del_s3_c3,e_obj_del_s3_c4,e_obj_del_s3_c5,e_obj_del_s3_c6"
  e_obj_del_s3_bw:        "folder e_obj_del_s3_w1,e_obj_del_s3_w2,e_obj_del_s3_w3,e_obj_del_s3_w4,e_obj_del_s3_w5,e_obj_del_s3_w6"
  e_obj_del_s3_c1:        "objective remove o_s3_c1"
  e_obj_del_s3_c2:        "objective remove o_s3_c2"
  e_obj_del_s3_c3:        "objective remove o_s3_c3"
  e_obj_del_s3_c4:        "objective remove o_s3_c4"
  e_obj_del_s3_c5:        "objective remove o_s3_c5"
  e_obj_del_s3_c6:        "objective remove o_s3_c6"
  e_obj_del_s3_w1:        "objective remove o_s3_w1"
  e_obj_del_s3_w2:        "objective remove o_s3_w2"
  e_obj_del_s3_w3:        "objective remove o_s3_w3"
  e_obj_del_s3_w4:        "objective remove o_s3_w4"
  e_obj_del_s3_w5:        "objective remove o_s3_w5"
  e_obj_del_s3_w6:        "objective remove o_s3_w6"
  e_obj_del_s3_star:      "objective remove o_s3_star"


  ### STAR 4 - FIND THE 12 RED COINS
  # Init
  init_s4:                "folder e_s4_add_obj_rc"
  e_s4_add_obj_rc:        "folder e_s4_add_obj_rc_1,e_s4_add_obj_rc_2"
  e_s4_add_obj_rc_1:      "folder e_obj_add_s4_rc1,e_obj_add_s4_rc2,e_obj_add_s4_rc3,e_obj_add_s4_rc4,e_obj_add_s4_rc5,e_obj_add_s4_rc6"
  e_s4_add_obj_rc_2:      "folder e_obj_add_s4_rc7,e_obj_add_s4_rc8,e_obj_add_s4_rc9,e_obj_add_s4_rc10,e_obj_add_s4_rc11,e_obj_add_s4_rc12"
  e_obj_add_s4_rc1:       "objective add o_s4_rc1"
  e_obj_add_s4_rc2:       "objective add o_s4_rc2"
  e_obj_add_s4_rc3:       "objective add o_s4_rc3"
  e_obj_add_s4_rc4:       "objective add o_s4_rc4"
  e_obj_add_s4_rc5:       "objective add o_s4_rc5"
  e_obj_add_s4_rc6:       "objective add o_s4_rc6"
  e_obj_add_s4_rc7:       "objective add o_s4_rc7"
  e_obj_add_s4_rc8:       "objective add o_s4_rc8"
  e_obj_add_s4_rc9:       "objective add o_s4_rc9"
  e_obj_add_s4_rc10:      "objective add o_s4_rc10"
  e_obj_add_s4_rc11:      "objective add o_s4_rc11"
  e_obj_add_s4_rc12:      "objective add o_s4_rc12"

  e_s4_rc_add_point:      "point rc_count 1 action:add"

  # Rc1
  e_s4_got_rc1:           "folder e_s4_add_tag_rc1,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc1,if_all_rc_s4"
  e_s4_add_tag_rc1:       "tag add rc1"
  e_s4_notify_rc1:        "notify &3Red coin #1 found! %point.rc_count.amount%/12"
  # Rc2
  e_s4_got_rc2:           "folder e_s4_add_tag_rc2,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc2,if_all_rc_s4"
  e_s4_add_tag_rc2:       "tag add rc2"
  e_s4_notify_rc2:        "notify &3Red coin #2 found! %point.rc_count.amount%/12"
  # Rc3
  e_s4_got_rc3:           "folder e_s4_add_tag_rc3,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc3,if_all_rc_s4"
  e_s4_add_tag_rc3:       "tag add rc3"
  e_s4_notify_rc3:        "notify &3Red coin #3 found! %point.rc_count.amount%/12"
  # Rc4
  e_s4_got_rc4:           "folder e_s4_add_tag_rc4,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc4,if_all_rc_s4"
  e_s4_add_tag_rc4:       "tag add rc4"
  e_s4_notify_rc4:        "notify &3Red coin #4 found! %point.rc_count.amount%/12"
  # Rc5
  e_s4_got_rc5:           "folder e_s4_add_tag_rc5,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc5,if_all_rc_s4"
  e_s4_add_tag_rc5:       "tag add rc5"
  e_s4_notify_rc5:        "notify &3Red coin #5 found! %point.rc_count.amount%/12"
  # Rc6
  e_s4_got_rc6:           "folder e_s4_add_tag_rc6,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc6,if_all_rc_s4"
  e_s4_add_tag_rc6:       "tag add rc6"
  e_s4_notify_rc6:        "notify &3Red coin #6 found! %point.rc_count.amount%/12"
  # Rc7
  e_s4_got_rc7:           "folder e_s4_add_tag_rc7,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc7,if_all_rc_s4"
  e_s4_add_tag_rc7:       "tag add rc7"
  e_s4_notify_rc7:        "notify &3Red coin #7 found! %point.rc_count.amount%/12"
  # Rc8
  e_s4_got_rc8:           "folder e_s4_add_tag_rc8,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc8,if_all_rc_s4"
  e_s4_add_tag_rc8:       "tag add rc8"
  e_s4_notify_rc8:        "notify &3Red coin #8 found! %point.rc_count.amount%/12"
  # Rc9
  e_s4_got_rc9:           "folder e_s4_add_tag_rc9,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc9,if_all_rc_s4"
  e_s4_add_tag_rc9:       "tag add rc9"
  e_s4_notify_rc9:        "notify &3Red coin #9 found! %point.rc_count.amount%/12"
  # Rc10
  e_s4_got_rc10:          "folder e_s4_add_tag_rc10,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc10,if_all_rc_s4"
  e_s4_add_tag_rc10:      "tag add rc10"
  e_s4_notify_rc10:       "notify &3Red coin #10 found! %point.rc_count.amount%/12"
  # Rc11
  e_s4_got_rc11:          "folder e_s4_add_tag_rc11,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc11,if_all_rc_s4"
  e_s4_add_tag_rc11:      "tag add rc11"
  e_s4_notify_rc11:       "notify &3Red coin #11 found! %point.rc_count.amount%/12"
  # Rc12
  e_s4_got_rc12:          "folder e_s4_add_tag_rc12,e_s4_rc_add_point,m64-sfx.e_coin,e_s4_notify_rc12,if_all_rc_s4"
  e_s4_add_tag_rc12:      "tag add rc12"
  e_s4_notify_rc12:       "notify &3Red coin #12 found! %point.rc_count.amount%/12"

  # Check win
  if_all_rc_s4:           "if chk_s4_all_rc e_s4_all_rc_gotten else m64-main.e_dummy"

  e_s4_all_rc_gotten:     "folder e_s4_spawn_star,e_s4_summon_firework,m64-sfx.e_star_spawn,e_s4_notif_spawn_star,e_obj_add_s4_star,e_s4_gp_add_star,e_s4_tag_add_spawned"
  e_s4_spawn_star:        "setblock RAW_GOLD_BLOCK $s4.star_loc$"
  e_s4_summon_firework:   "command execute in minecraft:marocraft run summon firework_rocket $s4.star_loc_xyz$ {LifeTime:10,Motion:[0d,1d,0d],shotAtAngle:1b,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Flight:20,Explosions:[{Type:1,Flicker:1b,Colors:[I;14602026]},{Colors:[I;11743532]},{Colors:[I;4312372]}]}}}}"
  e_s4_notif_spawn_star:  "notify &3A star has spawned! io:title"
  e_obj_add_s4_star:      "objective add o_s4_star"
  e_s4_gp_add_star:       "globalpoint bbh_s4 1 action:add"
  e_s4_tag_add_spawned:   "tag add s4_spawned"

  # Win
  win_s4:                 "folder e_notif_s4_win,m64-sfx.e_got_star,cleanup_s4,if_firstwin_s4"
  e_notif_s4_win:         "notify &312 red coins\n&2Cleared! io:title"

  # First win
  if_firstwin_s4:         "if !chk_s4_obtained firstwin_s4 else m64-main.e_dummy"
  firstwin_s4:            "folder e_broad_s4_first,tag_add_s4_win,e_stop_music,exit_star"
  e_broad_s4_first:       "command broadcast &6%player% &2got a star: [BBH] 12 red coins"
  tag_add_s4_win:         "tag add s4"

  # Cleanup
  cleanup_s4:             "folder e_s4_del_obj_rc,e_s4_rc_del_point,e_obj_del_s4_star,e_s4_del_tags,if_s4_spawned,e_s4_tag_del_spawned"
  e_s4_del_obj_rc:        "folder e_s4_del_obj_rc_1,e_s4_del_obj_rc_2"
  e_s4_del_obj_rc_1:      "folder e_obj_del_s4_rc1,e_obj_del_s4_rc2,e_obj_del_s4_rc3,e_obj_del_s4_rc4,e_obj_del_s4_rc5,e_obj_del_s4_rc6"
  e_s4_del_obj_rc_2:      "folder e_obj_del_s4_rc7,e_obj_del_s4_rc8,e_obj_del_s4_rc9,e_obj_del_s4_rc10,e_obj_del_s4_rc11,e_obj_del_s4_rc12"
  e_obj_del_s4_rc1:       "objective remove o_s4_rc1"
  e_obj_del_s4_rc2:       "objective remove o_s4_rc2"
  e_obj_del_s4_rc3:       "objective remove o_s4_rc3"
  e_obj_del_s4_rc4:       "objective remove o_s4_rc4"
  e_obj_del_s4_rc5:       "objective remove o_s4_rc5"
  e_obj_del_s4_rc6:       "objective remove o_s4_rc6"
  e_obj_del_s4_rc7:       "objective remove o_s4_rc7"
  e_obj_del_s4_rc8:       "objective remove o_s4_rc8"
  e_obj_del_s4_rc9:       "objective remove o_s4_rc9"
  e_obj_del_s4_rc10:      "objective remove o_s4_rc10"
  e_obj_del_s4_rc11:      "objective remove o_s4_rc11"
  e_obj_del_s4_rc12:      "objective remove o_s4_rc12"
  e_s4_rc_del_point:      "point rc_count 0 action:set"

  e_obj_del_s4_star:      "objective remove o_s4_star"
  e_s4_del_tags:          "folder e_s4_del_tags_1,e_s4_del_tags_2"
  e_s4_del_tags_1:        "run ^tag delete rc1 ^tag delete rc2 ^tag delete rc3 ^tag delete rc4 ^tag delete rc5 ^tag delete rc6"
  e_s4_del_tags_2:        "run ^tag delete rc7 ^tag delete rc8  ^tag delete rc9 ^tag delete rc10 ^tag delete rc11 ^tag delete rc12"

  if_s4_spawned:          "if chk_s4_spawned e_s4_del_spawned else m64-main.e_dummy"
  e_s4_del_spawned:       "folder e_s4_gp_sub_star,if_s4_despawn"
  e_s4_gp_sub_star:       "globalpoint bbh_s4 1 action:subtract"

  if_s4_despawn:          "if !chk_s4_spawn_count e_s4_delete_star else m64-main.e_dummy"
  e_s4_tag_del_spawned:   "tag delete s4_spawned"

  e_s4_delete_star:       "folder e_s4_despawn_star,e_s4_reset_star_count"
  e_s4_despawn_star:      "setblock AIR $s4.star_loc$"
  e_s4_reset_star_count:  "globalpoint bbh_s4 0 action:set"


  ### STAR 5 - BIG BOO'S BALCONY
  # Init
  init_s5:                "folder e_obj_add_s5_eyes"
  e_obj_add_s5_eyes:      "folder e_obj_add_s5_eye1,e_obj_add_s5_eye2,e_obj_add_s5_eye3,e_obj_add_s5_eye4,e_obj_add_s5_eye5,e_obj_add_s5_eye6"
  e_obj_add_s5_eye1:      "objective add o_s5_eye1"
  e_obj_add_s5_eye2:      "objective add o_s5_eye2"
  e_obj_add_s5_eye3:      "objective add o_s5_eye3"
  e_obj_add_s5_eye4:      "objective add o_s5_eye4"
  e_obj_add_s5_eye5:      "objective add o_s5_eye5"
  e_obj_add_s5_eye6:      "objective add o_s5_eye6"

  e_s5_sfx_bboo_laugh:    "notify io:sound sound:entity.allay.ambient_with_item soundvolume:10 soundpitch:0.5"
  e_s5_sfx_bboo_die:      "notify io:sound sound:entity.allay.death soundvolume:10 soundpitch:0.7"

  # Eye 1
  e_s5_eye1:              "folder e_s5_sfx_bboo_laugh,e_s5_add_tag_eye1,if_all_eyes_s5"
  e_s5_add_tag_eye1:      "tag add s5_eye1"
  # Eye 2
  e_s5_eye2:              "folder e_s5_sfx_bboo_laugh,e_s5_add_tag_eye2,if_all_eyes_s5"
  e_s5_add_tag_eye2:      "tag add s5_eye2"
  # Eye 3
  e_s5_eye3:              "folder e_s5_sfx_bboo_laugh,e_s5_add_tag_eye3,if_all_eyes_s5"
  e_s5_add_tag_eye3:      "tag add s5_eye3"
  # Eye 4
  e_s5_eye4:              "folder e_s5_sfx_bboo_laugh,e_s5_add_tag_eye4,if_all_eyes_s5"
  e_s5_add_tag_eye4:      "tag add s5_eye4"
  # Eye 5
  e_s5_eye5:              "folder e_s5_sfx_bboo_laugh,e_s5_add_tag_eye5,if_all_eyes_s5"
  e_s5_add_tag_eye5:      "tag add s5_eye5"
  # Eye 6
  e_s5_eye6:              "folder e_s5_sfx_bboo_laugh,e_s5_add_tag_eye6,if_all_eyes_s5"
  e_s5_add_tag_eye6:      "tag add s5_eye6"

  # If all eyes
  if_all_eyes_s5:         "if chk_s5_eye_all e_s5_boss_dead else m64-main.e_dummy"
  e_s5_boss_dead:         "folder e_s5_sfx_bboo_die,e_s5_spawn_star,e_s5_summon_firework,m64-sfx.e_star_spawn,e_s5_notif_spawn_star,e_obj_add_s5_star,e_s5_gp_add_star,e_s5_tag_add_spawned"
  e_s5_spawn_star:        "setblock RAW_GOLD_BLOCK $s5.star_loc$"
  e_s5_summon_firework:   "command execute in minecraft:marocraft run summon firework_rocket $s5.star_loc_xyz$ {LifeTime:10,Motion:[0d,1d,0d],shotAtAngle:1b,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Flight:20,Explosions:[{Type:1,Flicker:1b,Colors:[I;14602026]},{Colors:[I;11743532]},{Colors:[I;4312372]}]}}}}"
  e_s5_notif_spawn_star:  "notify &3A star has spawned! io:title"
  e_obj_add_s5_star:      "objective add o_s5_star"
  e_s5_gp_add_star:       "globalpoint bbh_s5 1 action:add"
  e_s5_tag_add_spawned:   "tag add s5_spawned"

  # Win
  win_s5:                 "folder e_notif_s5_win,m64-sfx.e_got_star,cleanup_s5,if_firstwin_s5"
  e_notif_s5_win:         "notify &3Big Boo's balcony\n&2Cleared! io:title"

  # First win
  if_firstwin_s5:         "if !chk_s5_obtained firstwin_s5 else m64-main.e_dummy"
  firstwin_s5:            "folder e_broad_s5_first,tag_add_s5_win,e_stop_music,exit_star"
  e_broad_s5_first:       "command broadcast &6%player% &2got a star: [BBH] Big Boo's balcony"
  tag_add_s5_win:         "tag add s5"

  # Cleanup
  cleanup_s5:             "folder e_obj_del_s5_star,e_obj_del_s5_eyes,e_s5_del_tags,if_s5_spawned,e_s5_tag_del_spawned"
  e_obj_del_s5_star:      "objective remove o_s5_star"
  e_obj_del_s5_eyes:      "folder e_obj_del_s5_eye1,e_obj_del_s5_eye2,e_obj_del_s5_eye3,e_obj_del_s5_eye4,e_obj_del_s5_eye5,e_obj_del_s5_eye6"
  e_obj_del_s5_eye1:      "objective remove o_s5_eye1"
  e_obj_del_s5_eye2:      "objective remove o_s5_eye2"
  e_obj_del_s5_eye3:      "objective remove o_s5_eye3"
  e_obj_del_s5_eye4:      "objective remove o_s5_eye4"
  e_obj_del_s5_eye5:      "objective remove o_s5_eye5"
  e_obj_del_s5_eye6:      "objective remove o_s5_eye6"
  e_s5_del_tags:          "run ^tag delete s5_eye1 ^tag delete s5_eye2 ^tag delete s5_eye3 ^tag delete s5_eye4 ^tag delete s5_eye5 ^tag delete s5_eye6"

  if_s5_spawned:          "if chk_s5_spawned e_s5_del_spawned else m64-main.e_dummy"
  e_s5_del_spawned:       "folder e_s5_gp_sub_star,if_s5_despawn"
  e_s5_gp_sub_star:       "globalpoint bbh_s5 1 action:subtract"

  if_s5_despawn:          "if !chk_s5_spawn_count e_s5_delete_star else m64-main.e_dummy"
  e_s5_tag_del_spawned:   "tag delete s5_spawned"

  e_s5_delete_star:       "folder e_s5_despawn_star,e_s5_reset_star_count"
  e_s5_despawn_star:      "setblock AIR $s5.star_loc$"
  e_s5_reset_star_count:  "globalpoint bbh_s5 0 action:set"


  ### STAR 6 - EYE TO EYE IN THE SECRET ROOM
  # Init
  init_s6:                "folder e_obj_add_s6_star"
  e_obj_add_s6_star:      "objective add o_s6_star"

  # Win
  win_s6:                 "folder e_notif_s6_win,m64-sfx.e_got_star,cleanup_s6,if_firstwin_s6"
  e_notif_s6_win:         "notify &3Eye to eye in the secret room\n&2Cleared! io:title"

  # First win
  if_firstwin_s6:         "if !chk_s6_obtained firstwin_s6 else m64-main.e_dummy"
  firstwin_s6:            "folder e_broad_s6_first,tag_add_s6_win,e_stop_music,exit_star"
  e_broad_s6_first:       "command broadcast &6%player% &2got a star: [BBH] Eye to eye in the secret room"
  tag_add_s6_win:         "tag add s6"

  # Cleanup
  cleanup_s6:             "folder e_obj_del_s6_star"
  e_obj_del_s6_star:      "objective remove o_s6_star"


### STAR 8 - KOOPA THE QUICK
  # Init
  init_s8:                "folder e_obj_add_s8_start"
  e_obj_add_s8_start:     "objective add o_s8_start"
  # Start
  start_s8:               "folder e_notif_s8_start,e_obj_add_s8_speedrun,e_obj_add_s8_goal,e_obj_add_s8_10sec"
  e_notif_s8_start:       "notify &3Koopa The Quick&r\n $s8.total_time_notif$ sec &3RUN! io:title"
  e_obj_add_s8_speedrun:  "objective add o_s8_speedrun"
  e_obj_add_s8_goal:      "objective add o_s8_goal"
  e_obj_add_s8_10sec:     "objective add o_s8_speedrun_10sec"
  # Fail
  fail_s8:                "folder e_notif_s8_fail,reload_s8"
  e_notif_s8_fail:        "notify &3Koopa The Quick\n&4Failed.. io:title"

  e_s8_10_sec_left:       "folder m64-sfx.e_time_almost_up,e_s8_notify_10sec"
  e_s8_notify_10sec:      "notify &c10 seconds left!"
  # Win
  win_s8:                 "folder e_notif_s8_win,m64-sfx.e_got_star,e_broad_s8_win,cleanup_s8,if_firstwin_s8"
  e_notif_s8_win:         "notify &3Koopa The Quick\n&2Cleared! io:title"
  e_broad_s8_win:         "command broadcast [&6%player%&r]: BBH Speedrun: %math.calc:($s8.total_time$-objective.o_s8_speedrun.rawSeconds)~3% sec"

  # First win
  if_firstwin_s8:         "if !chk_s8_obtained firstwin_s8 else reload_s8"
  firstwin_s8:            "folder e_broad_s8_first,tag_add_s8_win,e_stop_music,exit_star"
  e_broad_s8_first:       "command broadcast &6%player% &2got a star: [BBH] Koopa The Quick"
  tag_add_s8_win:         "tag add s8"

  # Cleanup
  cleanup_s8:             "folder e_obj_del_s8_start,e_obj_del_s8_speedrun,e_obj_del_s8_goal,e_obj_del_s8_10sec"
  e_obj_del_s8_start:     "objective remove o_s8_start"
  e_obj_del_s8_speedrun:  "objective remove o_s8_speedrun"
  e_obj_del_s8_goal:      "objective remove o_s8_goal"
  e_obj_del_s8_10sec:     "objective remove o_s8_speedrun_10sec"
  # Reload
  reload_s8:              "folder cleanup_s8,init_s8"


  ### STAR 9 - CAPTAIN TOAD 1
  # Win
  win_s9:                 "folder e_notif_s9_win,m64-sfx.e_toad_yahoo,m64-sfx.e_got_star,e_broad_s9_first,tag_add_s9_win,e_stop_music,exit_star"
  e_notif_s9_win:         "notify &3Dead Lost Toad #1\n&2Cleared! io:title"
  e_broad_s9_first:       "command broadcast &6%player% &2got a star: [BBH] Dead Lost Toad #1"
  tag_add_s9_win:         "tag add s9"


  ### STAR 10 - CAPTAIN TOAD 2
  # Win
  win_s10:                "folder e_notif_s10_win,m64-sfx.e_toad_yahoo,m64-sfx.e_got_star,e_broad_s10_first,tag_add_s10_win,e_stop_music,exit_star"
  e_notif_s10_win:        "notify &3Dead Lost Toad #2\n&2Cleared! io:title"
  e_broad_s10_first:      "command broadcast &6%player% &2got a star: [BBH] Dead Lost Toad #2"
  tag_add_s10_win:        "tag add s10"

  
  ### STAR 11 - CAPTAIN TOAD 3
  # Win
  win_s11:                "folder e_notif_s11_win,m64-sfx.e_toad_yahoo,m64-sfx.e_got_star,e_broad_s11_first,tag_add_s11_win,e_stop_music,exit_star"
  e_notif_s11_win:        "notify &3Dead Lost Toad #3\n&2Cleared! io:title"
  e_broad_s11_first:      "command broadcast &6%player% &2got a star: [BBH] Dead Lost Toad #3"
  tag_add_s11_win:        "tag add s11"


conditions:
  ### STAR 1 - GO ON A GHOST HUNT
  chk_s1_obtained:        "tag s1"
  chk_s1_killed_all:      "point bbh_s1_bk 5"

  chk_s1_spawned:         "tag s1_spawned"
  chk_s1_spawn_count:     "globalpoint bbh_s1 1"

  ### STAR 2 - RIDE BIG BOO'S MERRY-GO-ROUND
  chk_s2_obtained:        "tag s2"
  chk_s2_killed_all:      "point bbh_s2_bk 25"

  chk_s2_spawned:         "tag s2_spawned"
  chk_s2_spawn_count:     "globalpoint bbh_s2 1"

  ### STAR 3 - SECRET OF THE HAUNTED BOOKS
  chk_s3_obtained:        "tag s3"

  ### STAR 4 - FIND THE 12 RED COINS
  chk_s4_obtained:        "tag s4"
  chk_s4_tag_rc1:         "tag rc1"
  chk_s4_tag_rc2:         "tag rc2"
  chk_s4_tag_rc3:         "tag rc3"
  chk_s4_tag_rc4:         "tag rc4"
  chk_s4_tag_rc5:         "tag rc5"
  chk_s4_tag_rc6:         "tag rc6"
  chk_s4_tag_rc7:         "tag rc7"
  chk_s4_tag_rc8:         "tag rc8"
  chk_s4_tag_rc9:         "tag rc9"
  chk_s4_tag_rc10:        "tag rc10"
  chk_s4_tag_rc11:        "tag rc11"
  chk_s4_tag_rc12:        "tag rc12"

  chk_s4_all_rc:          "and chk_s4_all_rc_1,chk_s4_all_rc_2"
  chk_s4_all_rc_1:        "and chk_s4_tag_rc1,chk_s4_tag_rc2,chk_s4_tag_rc3,chk_s4_tag_rc4,chk_s4_tag_rc5,chk_s4_tag_rc6"
  chk_s4_all_rc_2:        "and chk_s4_tag_rc7,chk_s4_tag_rc8,chk_s4_tag_rc9,chk_s4_tag_rc10,chk_s4_tag_rc11,chk_s4_tag_rc12"

  chk_s4_spawned:         "tag s4_spawned"
  chk_s4_spawn_count:     "globalpoint bbh_s4 1"

  ### STAR 5 - BIG BOO'S BALCONY
  chk_s5_obtained:        "tag s5"
  chk_s5_eye_1:           "tag s5_eye1"
  chk_s5_eye_2:           "tag s5_eye2"
  chk_s5_eye_3:           "tag s5_eye3"
  chk_s5_eye_4:           "tag s5_eye4"
  chk_s5_eye_5:           "tag s5_eye5"
  chk_s5_eye_6:           "tag s5_eye6"
  chk_s5_eye_all:         "and chk_s5_eye_1,chk_s5_eye_2,chk_s5_eye_3,chk_s5_eye_4,chk_s5_eye_5,chk_s5_eye_6"

  chk_s5_spawned:         "tag s5_spawned"
  chk_s5_spawn_count:     "globalpoint bbh_s5 1"

  ### STAR 6 - EYE TO EYE IN THE SECRET ROOM
  chk_s6_obtained:        "tag s6"

  ### STAR 7 -
  ### STAR 8 - KOOPA THE QUICK
  chk_s8_obtained:        "tag s8"

  ### STAR 9 - CAPTAIN TOAD 1
  chk_s9_obtained:        "tag s9"
  ### STAR 10 - CAPTAIN TOAD 2
  chk_s10_obtained:       "tag s10"
  ### STAR 11 - CAPTAIN TOAD 3
  chk_s11_obtained:       "tag s11"
  


objectives:
  ### STAR 1 - GO ON A GHOST HUNT
  o_s1_star:              "action right any loc:$s1.star_loc$ events:win_s1"
  o_s1_boo_1:             "action right any loc:$s1.boo_1_loc$ events:e_s1_killed_boo"
  o_s1_boo_2:             "action right any loc:$s1.boo_2_loc$ events:e_s1_killed_boo"
  o_s1_boo_3:             "action right any loc:$s1.boo_3_loc$ events:e_s1_killed_boo"
  o_s1_boo_4:             "action right any loc:$s1.boo_4_loc$ events:e_s1_killed_boo"
  o_s1_boo_5:             "action right any loc:$s1.boo_5_loc$ events:e_s1_killed_boo"

  ### STAR 2 - RIDE BIG BOO'S MERRY-GO-ROUND
  o_s2_star:              "action right any loc:$s2.star_loc$ events:win_s2"
  o_s2_boo_1:             "action right any loc:$s2.boo_1_loc$ events:e_s2_killed_boo"
  o_s2_boo_2:             "action right any loc:$s2.boo_2_loc$ events:e_s2_killed_boo"
  o_s2_boo_3:             "action right any loc:$s2.boo_3_loc$ events:e_s2_killed_boo"
  o_s2_boo_4:             "action right any loc:$s2.boo_4_loc$ events:e_s2_killed_boo"
  o_s2_boo_5:             "action right any loc:$s2.boo_5_loc$ events:e_s2_killed_boo"
  o_s2_boo_6:             "action right any loc:$s2.boo_6_loc$ events:e_s2_killed_boo"
  o_s2_boo_7:             "action right any loc:$s2.boo_7_loc$ events:e_s2_killed_boo"
  o_s2_boo_8:             "action right any loc:$s2.boo_8_loc$ events:e_s2_killed_boo"
  o_s2_boo_9:             "action right any loc:$s2.boo_9_loc$ events:e_s2_killed_boo"
  o_s2_boo_10:            "action right any loc:$s2.boo_10_loc$ events:e_s2_killed_boo"
  o_s2_boo_11:            "action right any loc:$s2.boo_11_loc$ events:e_s2_killed_boo"
  o_s2_boo_12:            "action right any loc:$s2.boo_12_loc$ events:e_s2_killed_boo"
  o_s2_boo_13:            "action right any loc:$s2.boo_13_loc$ events:e_s2_killed_boo"
  o_s2_boo_14:            "action right any loc:$s2.boo_14_loc$ events:e_s2_killed_boo"
  o_s2_boo_15:            "action right any loc:$s2.boo_15_loc$ events:e_s2_killed_boo"
  o_s2_boo_16:            "action right any loc:$s2.boo_16_loc$ events:e_s2_killed_boo"
  o_s2_boo_17:            "action right any loc:$s2.boo_17_loc$ events:e_s2_killed_boo"
  o_s2_boo_18:            "action right any loc:$s2.boo_18_loc$ events:e_s2_killed_boo"
  o_s2_boo_19:            "action right any loc:$s2.boo_19_loc$ events:e_s2_killed_boo"
  o_s2_boo_20:            "action right any loc:$s2.boo_20_loc$ events:e_s2_killed_boo"
  o_s2_boo_21:            "action right any loc:$s2.boo_21_loc$ events:e_s2_killed_boo"
  o_s2_boo_22:            "action right any loc:$s2.boo_22_loc$ events:e_s2_killed_boo"
  o_s2_boo_23:            "action right any loc:$s2.boo_23_loc$ events:e_s2_killed_boo"
  o_s2_boo_24:            "action right any loc:$s2.boo_24_loc$ events:e_s2_killed_boo"
  o_s2_boo_25:            "action right any loc:$s2.boo_25_loc$ events:e_s2_killed_boo"

  ### STAR 3 - SECRET OF THE HAUNTED BOOKS
  o_s3_star:              "action right any loc:$s3.star_loc$ events:win_s3"
  o_s3_c1:                "action right any loc:$s3.book_1_loc$ events:e_s3_book_correct_1"
  o_s3_c2:                "action right any loc:$s3.book_2_loc$ events:e_s3_book_correct_2"
  o_s3_c3:                "action right any loc:$s3.book_3_loc$ events:e_s3_book_correct_3"
  o_s3_c4:                "action right any loc:$s3.book_4_loc$ events:e_s3_book_correct_4"
  o_s3_c5:                "action right any loc:$s3.book_5_loc$ events:e_s3_book_correct_5"
  o_s3_c6:                "action right any loc:$s3.book_6_loc$ events:e_s3_book_correct_6"
  o_s3_w1:                "action right any loc:$s3.book_1_loc$ events:e_s3_book_wrong"
  o_s3_w2:                "action right any loc:$s3.book_2_loc$ events:e_s3_book_wrong"
  o_s3_w3:                "action right any loc:$s3.book_3_loc$ events:e_s3_book_wrong"
  o_s3_w4:                "action right any loc:$s3.book_4_loc$ events:e_s3_book_wrong"
  o_s3_w5:                "action right any loc:$s3.book_5_loc$ events:e_s3_book_wrong"
  o_s3_w6:                "action right any loc:$s3.book_6_loc$ events:e_s3_book_wrong"

  ### STAR 4 - FIND THE 12 RED COINS
  o_s4_star:              "action right any loc:$s4.star_loc$ events:win_s4"
  o_s4_rc1:               "action right any loc:$s4.rc1$ events:e_s4_got_rc1"
  o_s4_rc2:               "action right any loc:$s4.rc2$ events:e_s4_got_rc2"
  o_s4_rc3:               "action right any loc:$s4.rc3$ events:e_s4_got_rc3"
  o_s4_rc4:               "action right any loc:$s4.rc4$ events:e_s4_got_rc4"
  o_s4_rc5:               "action right any loc:$s4.rc5$ events:e_s4_got_rc5"
  o_s4_rc6:               "action right any loc:$s4.rc6$ events:e_s4_got_rc6"
  o_s4_rc7:               "action right any loc:$s4.rc7$ events:e_s4_got_rc7"
  o_s4_rc8:               "action right any loc:$s4.rc8$ events:e_s4_got_rc8"
  o_s4_rc9:               "action right any loc:$s4.rc9$ events:e_s4_got_rc9"
  o_s4_rc10:              "action right any loc:$s4.rc10$ events:e_s4_got_rc10"
  o_s4_rc11:              "action right any loc:$s4.rc11$ events:e_s4_got_rc11"
  o_s4_rc12:              "action right any loc:$s4.rc12$ events:e_s4_got_rc12"

  ### STAR 5 - BIG BOO'S BALCONY
  o_s5_star:              "action right any loc:$s5.star_loc$ events:win_s5"
  o_s5_eye1:              "action right any loc:$s5.eye1_loc$ events:e_s5_eye1"
  o_s5_eye2:              "action right any loc:$s5.eye2_loc$ events:e_s5_eye2"
  o_s5_eye3:              "action right any loc:$s5.eye3_loc$ events:e_s5_eye3"
  o_s5_eye4:              "action right any loc:$s5.eye4_loc$ events:e_s5_eye4"
  o_s5_eye5:              "action right any loc:$s5.eye5_loc$ events:e_s5_eye5"
  o_s5_eye6:              "action right any loc:$s5.eye6_loc$ events:e_s5_eye6"

  ### STAR 6 - EYE TO EYE IN THE SECRET ROOM
  o_s6_star:              "action right any loc:$s6.star_loc$ events:win_s6"

  ### STAR 8 - KOOPA THE QUICK
  o_s8_start:             "action right any loc:$s8.start_loc$ events:start_s8"
  o_s8_speedrun:          "delay $s8.total_time$ seconds interval:$s8.delay_interval$ events:fail_s8"
  o_s8_speedrun_10sec:    "delay %math.calc:$s8.total_time$-10% seconds interval:$s8.delay_interval$ events:e_s8_10_sec_left"
  o_s8_goal:              "region bbh_speedrun enter events:win_s8"
